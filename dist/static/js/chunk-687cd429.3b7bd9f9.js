(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-687cd429"],{"7b22":function(t,e,a){"use strict";a("aa51")},9133:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{attrs:{data:t.records,border:""}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"skuName",label:"名称",width:"width"}}),a("el-table-column",{attrs:{prop:"skuDesc",label:"描述",width:"width"}}),a("el-table-column",{attrs:{label:"默认图片",width:"110"},scopedSlots:t._u([{key:"default",fn:function(t){var e=t.row;return[a("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.skuDefaultImg}})]}}])}),a("el-table-column",{attrs:{prop:"weight",label:"重量",width:"80"}}),a("el-table-column",{attrs:{prop:"price",label:"价格",width:"80"}}),a("el-table-column",{attrs:{prop:"prop",label:"操作",width:"width"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[0==s.isSale?a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-top",title:"上架"},on:{click:function(e){return t.onSale(s)}}}):a("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-bottom",title:"下架"},on:{click:function(e){return t.cancelSale(s)}}}),a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-edit",title:"编辑"},on:{click:t.edit}}),a("el-button",{attrs:{type:"info",size:"mini",icon:"el-icon-info",title:"查看"},on:{click:function(e){return t.getSkuInfo(s)}}}),a("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete",title:"删除"}})]}}])})],1),a("el-pagination",{staticStyle:{"text-align":"center"},attrs:{"current-page":t.page,"page-sizes":[3,5,10],"page-size":t.limit,total:t.total,layout:"prev, pager, next, jumper, ->,sizes,total "},on:{"size-change":t.sizeChange,"current-change":t.currentChange,"update:currentPage":function(e){t.page=e},"update:current-page":function(e){t.page=e}}}),a("el-drawer",{attrs:{"show-close":!1,visible:t.showDrawer,size:"50%"},on:{"update:visible":function(e){t.showDrawer=e}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 名称 ")]),a("el-col",{attrs:{span:16}},[t._v(" "+t._s(t.skuInfo.skuName)+" ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 描述 ")]),a("el-col",{attrs:{span:16}},[t._v(" "+t._s(t.skuInfo.skuDesc)+" ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 价格 ")]),a("el-col",{attrs:{span:16}},[t._v(" "+t._s(t.skuInfo.price)+" ")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 重量 ")]),a("el-col",{attrs:{span:16}})],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 平台属性 ")]),a("el-col",{attrs:{span:16}},t._l(t.skuInfo.skuAttrValueList,(function(e){return a("el-tag",{key:e.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"mini"}},[t._v(t._s(e.attrName)+"-"+t._s(e.valueName))])})),1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 销售属性 ")]),a("el-col",{attrs:{span:16}},t._l(t.skuInfo.skuSaleAttrValueList,(function(e){return a("el-tag",{key:e.id,staticStyle:{"margin-right":"5px"},attrs:{type:"success",size:"mini"}},[t._v(t._s(e.saleAttrName)+"-"+t._s(e.saleAttrValueName))])})),1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:6}},[t._v(" 商品图片 ")]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"block"},[a("el-carousel",{attrs:{trigger:"click",height:"200px"}},t._l(t.skuInfo.skuImageList,(function(t){return a("el-carousel-item",{key:t.id,staticStyle:{"text-align":"center"}},[a("img",{staticStyle:{width:"200px",height:"200px"},attrs:{src:t.imgUrl}})])})),1)],1)])],1)],1)],1)},n=[],r=a("c7eb"),i=a("1da1"),c={name:"Sku",data:function(){return{page:1,limit:3,showDrawer:!1,records:[],total:0,skuInfo:{}}},mounted:function(){this.getSkuList()},methods:{getSkuList:function(){var t=this;return Object(i["a"])(Object(r["a"])().mark((function e(){var a,s,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.page,s=t.limit,e.next=3,t.$API.sku.reqSkuList(a,s);case 3:n=e.sent,200==n.code&&(t.total=n.data.total,t.records=n.data.records);case 5:case"end":return e.stop()}}),e)})))()},currentChange:function(t){this.page=t,this.getSkuList()},sizeChange:function(t){this.limit=t,this.getSkuList()},onSale:function(t){var e=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$API.sku.reqOnSale(t.id);case 2:s=a.sent,200==s.code&&(t.isSale=1,e.$message({type:"success",message:"上架成功"}));case 4:case"end":return a.stop()}}),a)})))()},cancelSale:function(t){var e=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$API.sku.reqCancelSale(t.id);case 2:s=a.sent,200==s.code&&(t.isSale=0,e.$message({type:"success",message:"下架成功"}));case 4:case"end":return a.stop()}}),a)})))()},edit:function(){this.$message("功能开发中")},getSkuInfo:function(t){var e=this;return Object(i["a"])(Object(r["a"])().mark((function a(){var s;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.showDrawer=!0,a.next=3,e.$API.sku.reqSkuInfo(t.id);case 3:s=a.sent,console.log(s),200==s.code&&(e.skuInfo=s.data);case 6:case"end":return a.stop()}}),a)})))()}}},l=c,o=(a("d0b2"),a("7b22"),a("2877")),u=Object(o["a"])(l,s,n,!1,null,"59f0ef8a",null);e["default"]=u.exports},a111:function(t,e,a){},aa51:function(t,e,a){},d0b2:function(t,e,a){"use strict";a("a111")}}]);